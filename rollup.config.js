import svelte from"rollup-plugin-svelte";import commonjs from"@rollup/plugin-commonjs";import resolve from"@rollup/plugin-node-resolve";import livereload from"rollup-plugin-livereload";import{terser}from"rollup-plugin-terser";import css from"rollup-plugin-css-only";const production=!process.env.ROLLUP_WATCH;function serve(){let e;function o(){e&&e.kill(0)}return{writeBundle(){e||(e=require("child_process").spawn("npm",["run","start","--","--dev"],{stdio:["ignore","inherit","inherit"],shell:!0}),process.on("SIGTERM",o),process.on("exit",o))}}}export default{input:"src/main.js",output:{sourcemap:!0,format:"iife",name:"app",file:"public/build/bundle.js"},plugins:[svelte({compilerOptions:{dev:!production}}),css({output:"bundle.css"}),resolve({browser:!0,dedupe:["svelte"]}),commonjs(),!production&&serve(),!production&&livereload("public"),production&&terser()],watch:{clearScreen:!1}};